<mat-dialog-content class="container-fluid py-2">
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="row g-3">

    <!-- Nome Prodotto -->
    <div class="col-12">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Nome Prodotto</mat-label>
        <input matInput formControlName="nomeProdotto" required>
        <mat-error *ngIf="form.get('nomeProdotto')?.hasError('required')">Obbligatorio</mat-error>
      </mat-form-field>
    </div>

    <!-- Descrizione -->
    <div class="col-12">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Descrizione</mat-label>
        <textarea matInput rows="2" formControlName="descrizione" required></textarea>
        <mat-error *ngIf="form.get('descrizione')?.hasError('required')">Obbligatorio</mat-error>
      </mat-form-field>
    </div>

    <!-- Prezzo -->
    <div class="col-12 col-md-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Prezzo (€)</mat-label>
        <input matInput type="number" formControlName="prezzo" required min="0">
        <mat-error *ngIf="form.get('prezzo')?.hasError('required')">Obbligatorio</mat-error>
        <mat-error *ngIf="form.get('prezzo')?.hasError('min')">Deve essere >= 0</mat-error>
      </mat-form-field>
    </div>

    <!-- Quantità Disponibile -->
    <div class="col-12 col-md-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Quantità Disponibile</mat-label>
        <input matInput type="number" formControlName="quantitaDisponibile" required min="0">
        <mat-error *ngIf="form.get('quantitaDisponibile')?.hasError('required')">Obbligatorio</mat-error>
        <mat-error *ngIf="form.get('quantitaDisponibile')?.hasError('min')">Deve essere >= 0</mat-error>
      </mat-form-field>
    </div>

    <!-- Categoria -->
    <div class="col-12 col-md-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Categoria</mat-label>
        <mat-select formControlName="categoria" required>
          <mat-option *ngFor="let cat of categorie" [value]="cat">{{ cat }}</mat-option>
        </mat-select>
        <mat-error *ngIf="form.get('categoria')?.hasError('required')">Obbligatorio</mat-error>
      </mat-form-field>
    </div>

    <!-- Tipo Animale -->
    <div class="col-12 col-md-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Tipo Animale</mat-label>
        <mat-select formControlName="tipoAnimale" required>
          <mat-option *ngFor="let tipo of tipiAnimale" [value]="tipo">{{ tipo }}</mat-option>
        </mat-select>
        <mat-error *ngIf="form.get('tipoAnimale')?.hasError('required')">Obbligatorio</mat-error>
      </mat-form-field>
    </div>

    <!-- URL Immagine -->
    <div class="col-12">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>URL Immagine</mat-label>
        <input matInput type="text" formControlName="immagineUrl">
      </mat-form-field>
    </div>

    <!-- Pulsanti -->
    <div class="col-12 d-flex justify-content-end gap-2">
      <button mat-raised-button color="primary" type="submit">Crea</button>
      <button mat-button type="button" (click)="annulla()">Chiudi</button>
    </div>

  </form>
</mat-dialog-content>
