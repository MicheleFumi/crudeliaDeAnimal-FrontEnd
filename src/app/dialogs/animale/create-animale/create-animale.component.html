<mat-dialog-content class="container-fluid py-2">
  <mat-card appearance="outlined" class="p-3">
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="row g-3">
      <!-- Nome Animale -->
      <div class="col-12 col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Nome Animale</mat-label>
          <input matInput type="text" formControlName="nomeAnimale" required />
          <mat-error *ngIf="form.get('nomeAnimale')?.hasError('required')">
            Obbligatorio
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Razza -->
      <div class="col-12 col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Razza</mat-label>
          <input matInput type="text" formControlName="razza" required />
          <mat-error *ngIf="form.get('razza')?.hasError('required')">
            Obbligatorio
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Tipo -->
      <div class="col-12 col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Tipo</mat-label>
          <mat-select formControlName="tipo" required>
            <mat-option *ngFor="let t of tipi" [value]="t">
              {{ t }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="form.get('tipo')?.hasError('required')">
            Obbligatorio
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Note Mediche -->
      <div class="col-12">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Note Mediche</mat-label>
          <textarea
            matInput
            rows="3"
            formControlName="noteMediche"
            placeholder="Aggiungi eventuali note mediche"
          ></textarea>
          <mat-error *ngIf="form.get('noteMediche')?.hasError('maxlength')">
            Max 500 caratteri
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Pulsanti -->
      <div class="col-12 d-flex justify-content-end gap-2">
        <button class="btn btn-primary" type="submit" [disabled]="form.invalid">
          {{ "Salva" }}
        </button>
        <button
          class="btn btn-outline-secondary"
          type="button"
          mat-dialog-close
        >
          Chiudi
        </button>
      </div>
    </form>
  </mat-card>
</mat-dialog-content>

